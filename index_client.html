<!DOCTYPE html>
<html>
<head>
<title></title>
</head>
<body>
<h1>监控</h1>
<script src="socket.io.js"></script>
<script>
  var socket = io('http://localhost');
  var i = 0;
  function getData(){
  	return function(){
  		socket.on('news',function(data){
  			console.log(data);
  			console.log('进行了监控'+i);
  			socket.emit('my other event',{my: 'data'});
  			i++;
  		})
  	}
  }
  socket.on('news', function (data) {
    console.log(data);
    socket.emit('my other event', { my: 'data' });
  });

  setInterval(getData,1000);
</script>
</body>
</html> 